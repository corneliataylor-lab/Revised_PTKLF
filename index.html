<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PTKLF Foundation Coverage by LMA Form (v5 — Google Doc Current)</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Inter', system-ui, -apple-system, sans-serif; background: #fff; color: #1E293B; }
.container { max-width: 1100px; margin: 0 auto; padding: 20px 16px; }
h1 { font-size: 21px; font-weight: 800; color: #1E293B; margin-bottom: 4px; }
.subtitle { font-size: 12px; color: #64748B; margin-bottom: 2px; line-height: 1.4; }
.note { font-size: 11px; color: #94A3B8; font-style: italic; margin-bottom: 16px; }

.legend { display: flex; flex-wrap: wrap; gap: 14px; align-items: center; padding: 10px 16px; background: #F8FAFC; border-radius: 8px; margin-bottom: 16px; font-size: 12px; }
.legend-label { font-weight: 600; color: #475569; }
.legend-item { display: flex; align-items: center; gap: 4px; }
.legend-swatch { display: inline-block; width: 14px; height: 14px; border-radius: 3px; }
.legend-text { font-weight: 600; font-size: 11px; }
.legend-divider { display: flex; align-items: center; gap: 6px; border-left: 1px solid #CBD5E1; padding-left: 14px; }
.legend-dot { display: inline-flex; align-items: center; justify-content: center; width: 20px; height: 20px; border-radius: 4px; color: #fff; font-size: 9px; font-weight: 700; }
.legend-note { margin-left: auto; font-size: 10px; color: #94A3B8; }

.summary-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px; }
.summary-box { padding: 14px 16px; background: #F1F5F9; border-radius: 8px; }
.summary-header { display: flex; justify-content: space-between; align-items: baseline; }
.summary-label { font-weight: 700; font-size: 14px; }
.summary-sub { font-size: 11px; color: #64748B; }
.summary-stats { display: flex; gap: 16px; align-items: baseline; margin-top: 8px; }
.summary-total { font-size: 28px; font-weight: 800; }
.summary-total-label { font-size: 12px; color: #64748B; margin-left: 4px; }
.stat-block { text-align: center; }
.stat-num { font-size: 22px; font-weight: 800; }
.stat-label { font-size: 10px; color: #64748B; line-height: 1.2; }
.domain-breakdown { display: flex; gap: 10px; margin-top: 8px; font-size: 11px; color: #64748B; }
.domain-breakdown span { font-weight: 600; }

.strand { margin-bottom: 6px; }
.strand-header { display: grid; grid-template-columns: 210px 1fr 1fr; padding: 8px 12px; border-radius: 6px 6px 0 0; align-items: center; }
.strand-name { font-weight: 700; font-size: 13px; color: #fff; }
.strand-forms { display: contents; }
.strand-form-label { font-weight: 600; font-size: 11px; color: rgba(255,255,255,0.85); padding-left: 10px; }
.strand-subheader { display: grid; grid-template-columns: 210px 1fr 1fr; padding: 3px 12px; border-bottom: 1px solid #E2E8F0; }
.strand-subheader-label { font-size: 10px; font-weight: 600; }

.foundation-row { display: grid; grid-template-columns: 210px 1fr 1fr; border-bottom: 1px solid #E2E8F0; padding: 10px 0; align-items: start; }
.foundation-label { padding-left: 12px; padding-right: 8px; }
.foundation-name { font-weight: 600; font-size: 13px; color: #1E293B; line-height: 1.35; cursor: help; position: relative; }
.foundation-sub { font-size: 11px; font-weight: 600; margin-top: 2px; }
.foundation-tip { display: none; position: absolute; left: 0; top: 100%; z-index: 100; background: #1E293B; color: #F8FAFC; padding: 10px 12px; border-radius: 6px; font-size: 11px; font-weight: 400; line-height: 1.5; width: 340px; box-shadow: 0 4px 12px rgba(0,0,0,0.25); pointer-events: none; }
.foundation-tip strong { color: #93C5FD; font-weight: 600; }
.foundation-label:hover .foundation-tip { display: block; }
.foundation-row.uncovered .foundation-tip { color: #F8FAFC; opacity: 1; }
.foundation-cell { padding: 0 10px; border-left: 1px solid #E2E8F0; }
.no-coverage { color: #94A3B8; font-style: italic; font-size: 12px; }
.foundation-row.uncovered { background: #F8FAFC; }
.foundation-row.uncovered .foundation-name { color: #94A3B8; }
.foundation-row.uncovered .foundation-sub { opacity: 0.5; }
.no-lma-tag { display: inline-block; font-size: 9px; font-weight: 600; color: #94A3B8; background: #F1F5F9; border: 1px solid #E2E8F0; border-radius: 3px; padding: 1px 5px; margin-left: 6px; vertical-align: middle; }
.dots { display: flex; flex-wrap: wrap; gap: 0; }

.item-dot { display: inline-flex; align-items: center; justify-content: center; width: 30px; height: 30px; border-radius: 6px; color: #fff; font-size: 11px; font-weight: 700; margin: 2px; cursor: help; border: 2px solid transparent; position: relative; }
.item-dot.floor-item { border: 2px dashed #1E293B; }
.item-tip { display: none; position: absolute; left: 50%; top: 100%; transform: translateX(-50%); z-index: 200; background: #1E293B; color: #F8FAFC; padding: 8px 10px; border-radius: 6px; font-size: 11px; font-weight: 400; line-height: 1.45; width: 300px; box-shadow: 0 4px 12px rgba(0,0,0,0.3); pointer-events: none; margin-top: 4px; text-align: left; }
.item-tip strong { color: #93C5FD; font-weight: 600; }
.item-dot:hover .item-tip { display: block; }
</style>
</head>
<body>
<div class="container" id="app"></div>
<script>
// ══════════════════════════════════════════════════════════════════
// FORM 3XX — Three–Four Years — 35 items (R=9, E=12, L=11, V=3)
// Exact text from finalized Google Doc
// ══════════════════════════════════════════════════════════════════
const items3XX = [
  { item: 1, diff: -3.5, floor: true, foundations: ["No PTKLF Match"],
    text: "Recognizes own name when spoken or signed (for example, looks up when a caregiver calls their name, or turns toward a familiar person who signs to get their attention)." },
  { item: 2, diff: -3.5, floor: true, foundations: ["LL 1.8 Conversations"],
    text: "Looks at and pays attention to an adult or peer who is talking or signing to them (for example, watches a teacher’s face during circle time or watches a peer’s hands when the peer is signing to them)." },
  { item: 3, diff: -1.5, floor: true, foundations: ["No PTKLF Match"],
    text: "Follows two-step directions spoken and/or signed (for example, a caregiver says and/or signs “Pick up teddy and put him in the bed,” and the child does both)." },
  { item: 4, diff: -0.02, floor: false, foundations: ["LL 1.1 Vocabulary"],
    text: "Hands someone the right object when they ask for it by name (for example, when a teacher asks for the glue during art time, the child picks it up and gives it to them)." },
  { item: 5, diff: 0.5, floor: false, foundations: ["LL 1.1 Vocabulary"],
    text: "Shows understanding of what familiar objects are used for (for example, points to the cup when a caregiver asks “Which one do you drink from?” or picks up the scissors when asked “What do you cut with?”)." },
  { item: 6, diff: 1.5, floor: false, foundations: ["LL 1.3 Size & Location"],
    text: "In ASL, follows directions that show where things go by how signs are placed in space (for example, a teacher uses classifiers to show the child to put their shoes under their cubby, and the child does it). In spoken English, follows directions that use words like in, on, or under (for example, a teacher says “Put your painting on the drying rack” and the child does it)." },
  { item: 7, diff: 2.0, floor: false, foundations: ["LL 1.8 Conversations"],
    text: "Understands and responds when another child makes a request or suggestion (for example, another child says “Let’s build a tower!” and the child starts building with them, or another child signs “Your turn” and the child takes their turn)." },
  { item: 8, diff: 0.68, floor: false, foundations: ["LL 1.1 Vocabulary"],
    text: "Understands many feeling words and/or signs (for example, during a morning check-in a teacher asks “How are you feeling today?” and the child points to the right face on the feelings chart, or during a story a teacher signs SAD and the child points to the sad character)." },
  { item: 9, diff: 3.0, floor: false, foundations: ["LL 1.7 Explanations", "LL 1.5 Questions"],
    text: "Responds to simple “why” and “how” questions (for example, when a teacher asks “Why is he crying?” during a story, the child points to the picture of the character falling, or when asked “How do we wash our hands?” shows the steps)." },
  { item: 10, diff: -3.0, floor: true, foundations: ["LL 1.5 Questions"],
    text: "Uses a few words, signs, or gestures to let others know what they want (for example, signs MILK when thirsty, or pulls a teacher’s hand toward the block shelf and says “Blocks!”)." },
  { item: 11, diff: -2.0, floor: true, foundations: ["LL 1.5 Questions"],
    text: "Requests help when needed using words, signs, and/or gestures (for example, says “Help me” when stuck, or signs HELP when unable to open a container)." },
  { item: 12, diff: 1.38, floor: false, foundations: ["LL 1.4 Grammar"],
    text: "Speaks and/or signs clearly enough that family members and familiar adults understand most of what the child says." },
  { item: 13, diff: -0.3, floor: false, foundations: ["LL 1.8 Conversations"],
    text: "Has conversations that make sense and last at least 1 turn." },
  { item: 14, diff: 1.52, floor: false, foundations: ["LL 1.6 Narratives"],
    text: "Tells what is happening in a picture (for example, looks at a picture and says and/or signs “The dog is running”)." },
  { item: 15, diff: 0.4, floor: false, foundations: ["LL 1.6 Narratives"],
    text: "Talks and/or signs about something that happened in the past (for example, tells a teacher ‘I went to the store,’ or signs DOG CHASE ME to share something that happened at home)." },
  { item: 16, diff: 2.38, floor: false, foundations: ["LL 1.8 Conversations"],
    text: "Gives an on-topic answer when asked a simple question (for example, when a teacher asks “What are you building?” at the block area, the child says “A tower,” or signs HOUSE when asked what they are making with the blocks)." },
  { item: 17, diff: 1.0, floor: false, foundations: ["LL 1.7 Explanations"],
    text: "Uses words and/or signs to say what they like or don’t like (for example, says “I don’t like peas” at lunch, or signs FAVORITE when asked about a book)." },
  { item: 18, diff: 3.14, floor: false, foundations: ["LL 1.3 Size & Location", "LL 1.4 Grammar"],
    text: "In ASL, uses classifiers to describe the size, shape, or location of things (for example, uses a flat handshape to show a book on a table, or holds hands far apart with puffed cheeks to show something is big). In spoken English, uses describing words to give details about things (for example, says “the big dog” when looking at a picture, or “it’s under the table” when telling a teacher where something is)." },
  { item: 19, diff: 3.0, floor: false, foundations: ["LL 1.6 Narratives"],
    text: "Tells about an experience by describing at least two things that happened, in order (for example, says and/or signs “We went outside and then we played in the water”)." },
  { item: 20, diff: 3.31, floor: false, foundations: ["LL 1.8 Conversations"],
    text: "Has conversations that make sense and last 3–4 turns." },
  { item: 21, diff: -1.5, floor: true, foundations: ["LL 3.1 Literacy Interest"],
    text: "Enjoys being read to (for example, leans in to look at the pictures, asks for a favorite book again, or laughs at the funny parts)." },
  { item: 22, diff: -2.0, floor: true, foundations: ["LL 4.1 Fine Motor Writing"],
    text: "Scribbles when given a crayon, marker, or chalk." },
  { item: 23, diff: -1.0, floor: true, foundations: ["LL 2.7 Print Conventions"],
    text: "Holds a book right-side up and opens it from the correct side, using the cover to orient the book." },
  { item: 24, diff: 0.5, floor: false, foundations: ["LL 3.2 Stories"],
    text: "Imitates the actions or facial expressions of characters during spoken or signed stories (for example, makes a scary face when the bear growls, pretends to eat when the character eats, or copies the sign for SLEEP when the character goes to bed)." },
  { item: 25, diff: 0.0, floor: false, foundations: ["LL 3.2 Stories"],
    text: "Points to or names things in books (for example, points to the foods in The Very Hungry Caterpillar and says or signs “Strawberry!” or “I love cake!”)." },
  { item: 26, diff: 0.3, floor: false, foundations: ["LL 2.4 Letters"],
    text: "In ASL, points to or identifies at least one printed uppercase letter that is not in their own name, using fingerspelling (for example, a teacher points to a letter on the alphabet wall and the child fingerspells it). In spoken English, names at least one printed uppercase letter that is not in their own name (for example, a teacher points to a letter on the alphabet wall and the child says the letter name, or during play with magnetic letters the child picks one up and says “That’s B!”)." },
  { item: 27, diff: 1.0, floor: false, foundations: ["LL 4.4 Writing Words/Ideas"],
    text: "Pretends to write during play (for example, scribbles a “grocery list” in the dramatic play area, or makes wavy lines on paper and tells a teacher what it “says”)." },
  { item: 28, diff: 1.5, floor: false, foundations: ["LL 2.6 Concepts of Print", "LL 2.7 Print Conventions"],
    text: "Runs their finger along the words on a page when pretending to read." },
  { item: 29, diff: 2.0, floor: false, foundations: ["LL 2.4 Letters"],
    text: "Talks and/or signs about letters they see around them (for example, finds their name on their cubby at arrival, or points to a letter on a cereal box and says “That’s my letter!”)." },
  { item: 30, diff: 2.5, floor: false, foundations: ["LL 2.3 Rhyming"],
    text: "In ASL, notices when signs share the same handshape or movement (for example, during an ASL rhyming activity, the child gets excited and tries to produce a matching sign). In spoken English, notices when words sound alike or rhyme (for example, laughs or joins in when a teacher reads a rhyming book)." },
  { item: 31, diff: 3.0, floor: false, foundations: ["LL 3.3 Informational Text"],
    text: "Shares something from a nonfiction book that has been read to them more than once (for example, says or signs “They sleep in the daytime!” after a book about tree frogs, or “They have eight legs!” after a book about spiders)." },
  { item: 32, diff: 3.48, floor: false, foundations: ["LL 3.2 Stories"],
    text: "After a story is read to them, puts three picture cards in the right order to show what happened (for example, after The Very Hungry Caterpillar, the child puts the cards in order: caterpillar eating, cocoon, butterfly)." },
  { item: 33, diff: -2.5, floor: true, foundations: ["LL 1.1 Vocabulary"],
    text: "Uses at least a few words, signs, and/or gestures to label familiar people or things (for example, signs MAMA or DADA, says “ball,” or points and says “dat” when seeing a dog)." },
  { item: 34, diff: 0.0, floor: false, foundations: ["LL 1.3 Size & Location"],
    text: "Uses words and/or signs to describe where things are (for example, tells a teacher “My backpack is in my cubby,” or signs UNDER when asked where the ball went during outdoor play)." },
  { item: 35, diff: 2.0, floor: false, foundations: ["LL 1.2 Categories"],
    text: "Uses group words and/or signs to name categories (for example, says or signs “I want to play with the animals,” or says “I want more food” at snack instead of naming a specific food)." },
  { item: 36, diff: 2.5, floor: false, foundations: ["LL 1.1 Vocabulary"],
    text: "When asked what something is, the child tells what it does or what it is used for (for example, a teacher holds up a cup and asks “What is this?” and the child says or signs “You drink with it,” or when asked about scissors, says or signs “They cut”)." }
];

// ══════════════════════════════════════════════════════════════════
// FORM 4XX — Four–Five Years — 35 items (R=11, E=9, L=8, V=7)
// Exact text from finalized Google Doc
// Note: Doc has two items numbered 12; displayed as 12a/12b here
// ══════════════════════════════════════════════════════════════════
const items4XX = [
  { item: 1, diff: -3.5, floor: true, foundations: ["No PTKLF Match"],
    text: "Shows joint attention (for example, looks at the same object as a caregiver, looks back at the caregiver for information)." },
  { item: 2, diff: -2.5, floor: true, foundations: ["No PTKLF Match"],
    text: "Follows a simple direction given in words and/or signs (for example, a caregiver says or signs “Give me the ball” and the child gives it, or “Come here” and the child comes)." },
  { item: 3, diff: -3.5, floor: true, foundations: ["LL 1.8 Conversations"],
    text: "Attends to an adult or peer who is communicating with them during classroom activities or group time (for example, watches the face or hands of a teacher or classmate who is talking or signing, turns toward a speaker or signer during circle time, or maintains visual attention during a short group activity)." },
  { item: 4, diff: -1.5, floor: true, foundations: ["LL 1.1 Vocabulary"],
    text: "Understands words and/or signs for common objects, actions, and people used in everyday classroom routines (for example, responds appropriately when a teacher says or signs “shoes,” “sit,” “eat,” or a classmate’s name during daily activities)." },
  { item: 5, diff: -0.5, floor: true, foundations: ["No PTKLF Match"],
    text: "Follows a simple two-step direction given in spoken or signed language (for example, “Get your coat and come here” or “Put the book on the shelf and sit down”)." },
  { item: 6, diff: 0.5, floor: false, foundations: ["LL 1.5 Questions", "LL 1.7 Explanations"],
    text: "When asked a simple who, what, or where question about something nearby, answers using words, signs, or gestures (for example, at snack time when two choices are on the table a teacher asks “What do you want?” and the child names one, or when asked “Where is your cup?” the child points to it)." },
  { item: 7, diff: 0.0, floor: false, foundations: ["LL 1.1 Vocabulary", "LL 1.3 Size & Location"],
    text: "Understands simple describing words and/or signs for size, color, or other features (for example, while reading an opposites book a teacher asks “Which one is big?” and the child points to the right picture, or when asked to get the red paint the child picks the right color)." },
  { item: 8, diff: 1.95, floor: false, foundations: ["LL 1.3 Size & Location"],
    text: "In ASL, follows directions that use spatial placement or classifier location to show where something goes (for example, places an object in the correct location when shown a classifier indicating above, below, or behind). In spoken English, follows directions that use position words (for example, places a block above a line when asked, or stands behind a chair when told)." },
  { item: 9, diff: 1.0, floor: false, foundations: ["LL 1.2 Categories"],
    text: "When a teacher asks which item does not belong to a named category and shows a group of objects or pictures, the child finds the one that does not belong (for example, the teacher asks “Which one is not an animal?” and shows the child a picture of a dog, a cat, a fish, and a shoe, and the child points to the shoe)." },
  { item: 10, diff: 2.5, floor: false, foundations: ["LL 1.4 Grammar"],
    text: "In ASL, follows directions that use temporal sequencing or conditional structures (for example, correctly responds to a signed sequence meaning “Before you go outside, put on your coat”). In spoken English, follows directions that use words like “if,” “before,” “after,” or “because” (for example, correctly responds to “If it’s raining, we’ll stay inside”)." },
  { item: 11, diff: 3.0, floor: false, foundations: ["LL 3.2 Stories", "LL 1.7 Explanations"],
    text: "When asked a question about a story, connects two pieces of information to form an answer (for example, when asked ‘What will happen to the bear?’ responds ‘He’ll get wet because it’s raining’ or signs BEAR GET-WET RAIN)." },
  { item: 12, diff: -2.5, floor: true, foundations: ["LL 1.5 Questions"],
    text: "Uses a few words, signs, or gestures to let others know what they want (for example, signs MILK when thirsty, or pulls a teacher’s hand toward the block shelf and says “Blocks!”)." },
  { item: 13, diff: 0.21, floor: false, foundations: ["LL 1.4 Grammar"],
    text: "Uses 4–8 word and/or sign sentences." },
  { item: 14, diff: 0.5, floor: false, foundations: ["LL 1.5 Questions"],
    text: "Asks questions using words, signs, and/or gestures to find out information." },
  { item: 15, diff: 3.44, floor: false, foundations: ["LL 1.4 Grammar", "LL 1.6 Narratives"],
    text: "Talks or signs about what they will do later, tomorrow, or in the future." },
  { item: 16, diff: 0.56, floor: false, foundations: ["LL 1.6 Narratives"],
    text: "In ASL, uses body position and eye direction to show meaning (for example, shifts body to one side and then the other to show two characters talking, or looks toward a classmate to show who they are talking about). In spoken English, uses voice and expression to show meaning (for example, raises voice at the end to ask a question, or whispers during a pretend game to show a secret)." },
  { item: 17, diff: 2.85, floor: false, foundations: ["LL 1.4 Grammar"],
    text: "Uses “because,” “when,” “if,” and “so” to connect ideas (for example, says ‘I can’t play because I have to eat first’)." },
  { item: 18, diff: 2.3, floor: false, foundations: ["LL 1.6 Narratives"],
    text: "Uses words and/or signs to tell a story with clear beginning, middle, and end." },
  { item: 19, diff: 2.85, floor: false, foundations: ["LL 1.7 Explanations"],
    text: "Uses words and/or signs to explain why something happened or why they want something, giving two or more reasons (for example, “I don’t want to go outside because it’s cold and because I want to finish my picture”)." },
  { item: 20, diff: 3.24, floor: false, foundations: ["LL 1.8 Conversations"],
    text: "Maintains a conversation for 7 or more turns, adding follow-up questions, new information, and fixes when misunderstood." },
  { item: 21, diff: -1.04, floor: true, foundations: ["LL 3.1 Literacy Interest"],
    text: "Enjoys being read to (for example, leans in to look at the pictures, asks for a favorite book again, or laughs at the funny parts)." },
  { item: 22, diff: -0.25, floor: false, foundations: ["LL 2.7 Print Conventions"],
    text: "Shows understanding of how books and print work (for example, turning pages one at a time, or following English print from left to right and top to bottom)." },
  { item: 23, diff: 0.25, floor: false, foundations: ["LL 2.6 Concepts of Print"],
    text: "Recognizes familiar words and symbols in everyday surroundings (for example, recognizes words on signs, labels, or menus and communicates what they mean using words, signs, or gestures)." },
  { item: 24, diff: 2.5, floor: false, foundations: ["LL 3.2 Stories"],
    text: "Shares the main idea after a story is read to them." },
  { item: 25, diff: 2.0, floor: false, foundations: ["LL 2.1 Isolating Initial Sounds", "LL 2.2 Recognizing and Blending Sounds"],
    text: "Shares the first sound in a spoken word and/or the first handshape of a familiar sign, with adult support or the support of pictures or objects (for example, a teacher holds up a picture of a fish and says “What sound does fish start with?” and the child says “/f/”, or a teacher shows a picture of a ball and the child produces the B handshape)." },
  { item: 26, diff: 3.0, floor: false, foundations: ["LL 2.2 Recognizing and Blending Sounds"],
    text: "Blends individual sounds or syllables into spoken words and/or identifies words from fingerspelling, with adult support or the support of pictures or objects (for example, hears “d-o-g” and says “dog,” or sees D-O-G fingerspelled and signs DOG)." },
  { item: 27, diff: 3.0, floor: false, foundations: ["LL 3.2 Stories"],
    text: "Retells a familiar story in the correct order, including the main characters, setting, and key events, using words and/or signs." },
  { item: 28, diff: 3.5, floor: false, foundations: ["LL 4.2 Writing to Represent Sounds"],
    text: "In ASL, writes a few letters to match the handshapes in fingerspelled words, with help from an adult (for example, a teacher fingerspells C-A-T and the child writes C and T on their paper). In spoken English, writes a few letters to match the sounds in words, with help from an adult (for example, a teacher says “/k/…/æ/…/t/” and the child writes C and T)." },
  { item: 29, diff: -3.0, floor: true, foundations: ["LL 1.1 Vocabulary"],
    text: "Uses words and/or signs for actions (for example, eat, go, give, open, help), not just names of objects and people." },
  { item: 30, diff: -0.14, floor: false, foundations: ["LL 1.1 Vocabulary"],
    text: "Uses words and/or signs to describe how things look, feel, taste, or sound (for example, touches a fuzzy blanket at rest time and says “soft,” or tries a new food and signs YUCKY)." },
  { item: 31, diff: 0.75, floor: false, foundations: ["LL 1.3 Size & Location"],
    text: "Uses words and/or signs to describe where things are (for example, tells a teacher “My backpack is in my cubby,” or signs UNDER when asked where the ball went during outdoor play)." },
  { item: 32, diff: 1.26, floor: false, foundations: ["LL 1.3 Size & Location"],
    text: "Uses words and/or signs to compare things (for example, holds up two paintings at the easel and says “Mine is bigger,” or during snack tells a friend “You have more crackers than me”)." },
  { item: 33, diff: 2.31, floor: false, foundations: ["LL 1.1 Vocabulary"],
    text: "Asks the meanings of words and/or signs." },
  { item: 34, diff: 2.75, floor: false, foundations: ["LL 1.1 Vocabulary"],
    text: "Uses different words and/or signs to show differences in how actions are done (for example, during a movement game says “Now let’s tiptoe!” instead of just “walk,” or signs STOMP to show how a dinosaur moves)." },
  { item: 35, diff: 2.5, floor: false, foundations: ["LL 1.2 Categories"],
    text: "Sorts objects or pictures into groups and tells why they go together using words and/or signs (for example, puts all the toy animals in one pile and says ‘These are all animals’ or signs ANIMAL, SAME)." }
];

// ══════════════════════════════════════════════════════════════════
// STRAND / FOUNDATION DEFINITIONS
// ══════════════════════════════════════════════════════════════════
const strandDefs = [
  { name: "Foundational Language Development: Strand 1.0 \u2014 Listening and Speaking", color: "#0D7377", showAll: true, foundations: [
    { id: "LL 1.1 Vocabulary", label: "Understanding and Using Vocabulary", sub: "Foundation 1.1 \u00B7 Sub-Strand: Vocabulary",
      early: "Understand and use words for objects, actions, and attributes frequently experienced in everyday life.",
      later: "Understand and use an increasing variety of words for objects, actions, and attributes experienced in everyday life." },
    { id: "LL 1.2 Categories", label: "Understanding and Using Words for Categories", sub: "Foundation 1.2 \u00B7 Sub-Strand: Vocabulary",
      early: "Understand and use commonly experienced vocabulary to describe categories and the relationships within them.",
      later: "Understand and use increasingly specific vocabulary to describe categories and the relationships within them." },
    { id: "LL 1.3 Size & Location", label: "Understanding and Using Size and Location Words", sub: "Foundation 1.3 \u00B7 Sub-Strand: Vocabulary",
      early: "Understand and use words to describe the size and location of objects, including simple comparisons.",
      later: "Understand and use increasingly specific words to describe and compare the size and location of objects." },
    { id: "LL 1.4 Grammar", label: "Using Grammatical Features and Sentence Structure", sub: "Foundation 1.4 \u00B7 Sub-Strand: Grammar",
      early: "Use common word forms and sentence forms to express thoughts and ideas.",
      later: "Use both common and less common word forms and sentence forms to express complex thoughts and ideas." },
    { id: "LL 1.5 Questions", label: "Asking Questions", sub: "Foundation 1.5 \u00B7 Sub-Strand: Language Use",
      early: "Use questions to seek information and to clarify and confirm understanding.",
      later: "Use questions and follow-up questions to seek information and to clarify and confirm understanding." },
    { id: "LL 1.6 Narratives", label: "Constructing Narratives", sub: "Foundation 1.6 \u00B7 Sub-Strand: Language Use",
      early: "Use language to construct real or fictional short narratives.",
      later: "Use language to construct real or fictional extended narratives that have several details or a plotline." },
    { id: "LL 1.7 Explanations", label: "Sharing Explanations and Opinions", sub: "Foundation 1.7 \u00B7 Sub-Strand: Language Use",
      early: "Share descriptions, opinions, and explanations.",
      later: "Share detailed descriptions, opinions, and explanations." },
    { id: "LL 1.8 Conversations", label: "Participating in Conversations", sub: "Foundation 1.8 \u00B7 Sub-Strand: Language Use",
      early: "Participate in back-and-forth conversations with adults and peers. Respond on topic for at least one turn.",
      later: "Participate in increasingly long and complex back-and-forth conversations. Respond on topic across several turns." },
  ]},
  { name: "Foundational Language Development: Strand 2.0 \u2014 Foundational Literacy Skills", color: "#7C3AED", showAll: true, foundations: [
    { id: "LL 2.1 Isolating Initial Sounds", label: "Isolating Initial Sounds", sub: "Foundation 2.1 \u00B7 Sub-Strand: Phonological Awareness",
      early: "Match words that have the same first sound in speech, with adult support.",
      later: "Isolate and pronounce the first sound of a word, with adult support." },
    { id: "LL 2.2 Recognizing and Blending Sounds", label: "Recognizing and Blending Sounds", sub: "Foundation 2.2 \u00B7 Sub-Strand: Phonological Awareness",
      early: "When presented with two single-syllable words, blend them into a compound word with adult support.",
      later: "When presented with syllables and individual sounds, blend them into words with adult support." },
    { id: "LL 2.3 Rhyming", label: "Participating in Rhyming and Wordplay", sub: "Foundation 2.3 \u00B7 Sub-Strand: Phonological Awareness",
      early: "Recognize or participate in familiar rhymes or songs.",
      later: "Produce rhyming sounds or words." },
    { id: "LL 2.4 Letters", label: "Identifying Letters", sub: "Foundation 2.4 \u00B7 Sub-Strand: Alphabetics and Print",
      early: "Match some letter names to their printed form.",
      later: "Match many letter names to their printed form." },
    { id: "LL 2.5 Letter-Sound Correspondence", label: "Learning Letter\u2013Sound Correspondence", sub: "Foundation 2.5 \u00B7 Sub-Strand: Alphabetics and Print",
      early: "Recognize that letters or characters have sounds.",
      later: "Accurately identify or produce sounds associated with several letters with adult support." },
    { id: "LL 2.6 Concepts of Print", label: "Understanding the Concept of Print", sub: "Foundation 2.6 \u00B7 Sub-Strand: Concepts About Print",
      early: "Recognize print as something that can be read and has meaning.",
      later: "Identify the meaning of a few instances of familiar print in the environment." },
    { id: "LL 2.7 Print Conventions", label: "Understanding Print Conventions", sub: "Foundation 2.7 \u00B7 Sub-Strand: Concepts About Print",
      early: "Display basic book-handling behaviors and knowledge of basic print conventions.",
      later: "Display increasingly sophisticated book-handling behaviors and knowledge of print conventions." },
  ]},
  { name: "Foundational Language Development: Strand 3.0 \u2014 Reading", color: "#6D28D9", showAll: true, foundations: [
    { id: "LL 3.1 Literacy Interest", label: "Demonstrating Interest in Literacy Activities", sub: "Foundation 3.1 \u00B7 Sub-Strand: Literacy Interest and Response",
      early: "Demonstrate interest in and engagement with literacy and literacy-related activities.",
      later: "Demonstrate interest in and engagement with literacy for extended periods and with increasing independence." },
    { id: "LL 3.2 Stories", label: "Understanding Stories", sub: "Foundation 3.2 \u00B7 Sub-Strand: Comprehension and Analysis of Age-Appropriate Text",
      early: "Demonstrate basic understanding of main characters or events in a story after experiencing it a few times.",
      later: "Demonstrate understanding of details including characters, events, ordering, and use story structure to predict." },
    { id: "LL 3.3 Informational Text", label: "Understanding Informational Text", sub: "Foundation 3.3 \u00B7 Sub-Strand: Comprehension and Analysis of Age-Appropriate Text",
      early: "Demonstrate basic understanding of informational text after experiencing it a few times.",
      later: "Demonstrate deeper understanding using connections to prior knowledge, inferences, and questions." },
  ]},
  { name: "Foundational Language Development: Strand 4.0 \u2014 Writing", color: "#5B21B6", showAll: true, foundations: [
    { id: "LL 4.1 Fine Motor Writing", label: "Developing Fine Motor Skills in Writing", sub: "Foundation 4.1 \u00B7 Sub-Strand: Writing Skills",
      early: "Experiment with grasp and body position using a variety of drawing and writing tools.",
      later: "Adjust grasp and body position for increased control in drawing and writing." },
    { id: "LL 4.2 Writing to Represent Sounds", label: "Writing to Represent Sounds", sub: "Foundation 4.2 \u00B7 Sub-Strand: Writing as Communication",
      early: "(No foundation.)",
      later: "Write, with adult support, a few recognizable letters intended to represent their corresponding sounds." },
    { id: "LL 4.3 Dictating", label: "Dictating Thoughts and Ideas", sub: "Foundation 4.3 \u00B7 Sub-Strand: Writing as Communication",
      early: "Engage in dictating thoughts and ideas when an adult offers to help with writing them down.",
      later: "Demonstrate interest in conveying extended thoughts and ideas in writing, engaging the help of an adult." },
    { id: "LL 4.4 Writing Words/Ideas", label: "Writing to Represent Words or Ideas", sub: "Foundation 4.4 \u00B7 Sub-Strand: Writing as Communication",
      early: "Write using scribbles that resemble letters or characters and are distinct from pictures.",
      later: "Write a few recognizable letters or characters to represent words or ideas." },
    { id: "LL 4.5 Writing Own Name", label: "Writing Own Name", sub: "Foundation 4.5 \u00B7 Sub-Strand: Writing as Communication",
      early: "Write marks to represent own name.",
      later: "Write own name nearly correctly." },
  ]},
  { name: "No PTKLF Match", color: "#94A3B8", foundations: [
    { id: "No PTKLF Match", label: "No PTKLF Match (IT/LDF-Aligned Floor Items)", sub: "Pre-PTKLF developmental indicators",
      early: "Items targeting developmental milestones below the PTKLF age range, aligned to the CA Infant/Toddler Learning & Development Foundations.",
      later: "" },
  ]},
];

// ── RENDERING ──
const bandMeta = {
  most:  { label: "Most children can do", color: "#059669" },
  half:  { label: "About half can do", color: "#D97706" },
  few:   { label: "Few children can do yet", color: "#DC2626" },
};
const bandKeys = ["most", "half", "few"];

function getBand(it) {
  if (it.diff < -0.5) return "most";
  if (it.diff <= 1.0) return "half";
  return "few";
}

function getItemsForFoundation(items, fId) {
  return items.filter(it => it.foundations && it.foundations.includes(fId)).sort((a, b) => a.diff - b.diff);
}

function esc(s) { const d = document.createElement('div'); d.textContent = s; return d.innerHTML; }

function dotHTML(it) {
  const band = getBand(it);
  const bg = bandMeta[band].color;
  const floorClass = it.floor ? ' floor-item' : '';
  const floorTag = it.floor ? ' \u2014 FLOOR EXTENSION' : '';
  const tipContent = `<strong>Item ${it.item}</strong> (\u03B4 \u2248 ${it.diff.toFixed(1)})${floorTag}<br>${esc(it.text)}`;
  return `<span class="item-dot${floorClass}" style="background:${bg}">${it.item}<span class="item-tip">${tipContent}</span></span>`;
}

function cellHTML(items) {
  if (items.length === 0) return `<div class="foundation-cell"><span class="no-coverage">No coverage</span></div>`;
  return `<div class="foundation-cell"><div class="dots">${items.map(dotHTML).join('')}</div></div>`;
}

function summaryHTML(label, sub, items, color, domains) {
  const counts = {};
  bandKeys.forEach(b => { counts[b] = items.filter(it => getBand(it) === b).length; });
  let html = `<div class="summary-box" style="border-left:4px solid ${color}">
    <div class="summary-header">
      <div><div class="summary-label" style="color:${color}">${label}</div><div class="summary-sub">${sub}</div></div>
    </div>
    <div class="summary-stats">
      <div><span class="summary-total" style="color:${color}">${items.length}</span><span class="summary-total-label">items</span></div>`;
  bandKeys.forEach(b => {
    const labels = { most: "Most can do", half: "About half", few: "Few can do" };
    html += `<div class="stat-block"><div class="stat-num" style="color:${bandMeta[b].color}">${counts[b]}</div><div class="stat-label">${labels[b]}</div></div>`;
  });
  html += `</div>`;
  const floorCount = items.filter(it => it.floor).length;
  html += `<div class="domain-breakdown">`;
  html += `<span>R=${domains.R}</span> <span>E=${domains.E}</span> <span>L=${domains.L}</span> <span>V=${domains.V}</span>`;
  html += `<span style="margin-left:auto; color:#2563EB;">${floorCount} floor extensions</span>`;
  html += `</div>`;
  html += `</div>`;
  return html;
}

let out = '';
out += `<h1>PTKLF Foundation Coverage by LMA Form</h1>`;
out += `<p class="subtitle">Preschool/Transitional Kindergarten Learning Foundations aligned to current LMA Forms 3XX (3–4 yr, 36 items) and 4XX (4–5 yr, 35 items). Item text from Google Doc (Feb 23, 2026). Calibrated δ from N=74 field sample; new items use handoff estimates.</p>`;
out += `<p class="note">3XX: 36 items (9 easy / 11 mid / 16 hard). 4XX: 35 items (7 easy / 11 mid / 17 hard). Known PTKLF gaps: LL 2.5 (Letter–Sound Correspondence), LL 4.3 (Dictating), LL 4.5 (Writing Own Name). Floor extensions (dashed border) target below PTKLF age range. δ values are Rasch-calibrated (N=74) for original items; handoff estimates for new 3XX items (#3, #13, #15, #26, #34). Forms 0XX–2XX align to IT/LDF, not shown here.</p>`;

out += `<div class="legend">`;
out += `<span class="legend-label">Item difficulty:</span>`;
bandKeys.forEach(b => {
  out += `<span class="legend-item"><span class="legend-swatch" style="background:${bandMeta[b].color}"></span><span class="legend-text" style="color:${bandMeta[b].color};border-bottom:2px solid ${bandMeta[b].color}">${bandMeta[b].label}</span></span>`;
});
out += `<span class="legend-divider">`;
out += `<span class="legend-dot" style="background:#059669;border:2px dashed #1E293B">5</span> Floor extension`;
out += `</span>`;
out += `<span class="legend-divider">`;
out += `<span class="legend-dot" style="background:#059669">5</span> Item #`;
out += `</span>`;
out += `<span class="legend-note">Items may appear in multiple foundations \u00B7 Hover for full text</span>`;
out += `</div>`;

out += `<div class="summary-grid">`;
out += summaryHTML("Form 3XX (Revised)", "3\u20134 years (37\u201348 months) \u00B7 35 items", items3XX, "#0D7377", {R:9,E:12,L:11,V:3});
out += summaryHTML("Form 4XX (Revised)", "4\u20135 years (48\u201360 months) \u00B7 35 items", items4XX, "#1B3A5C", {R:11,E:9,L:8,V:7});
out += `</div>`;

strandDefs.forEach(strand => {
  const active = strand.showAll ? strand.foundations : strand.foundations.filter(f =>
    getItemsForFoundation(items3XX, f.id).length > 0 || getItemsForFoundation(items4XX, f.id).length > 0
  );
  if (active.length === 0) return;

  out += `<div class="strand">`;
  out += `<div class="strand-header" style="background:${strand.color}">`;
  out += `<span class="strand-name">${strand.name}</span>`;
  out += `<div class="strand-forms">`;
  out += `<span class="strand-form-label">Form 3XX (3\u20134 yr)</span>`;
  out += `<span class="strand-form-label">Form 4XX (4\u20135 yr)</span>`;
  out += `</div></div>`;
  out += `<div class="strand-subheader" style="background:${strand.color}08">`;
  out += `<span class="strand-subheader-label" style="color:${strand.color}">Foundation</span><span></span><span></span>`;
  out += `</div>`;

  active.forEach(f => {
    const i3 = getItemsForFoundation(items3XX, f.id);
    const i4 = getItemsForFoundation(items4XX, f.id);
    const hasItems = i3.length > 0 || i4.length > 0;
    const tipText = f.early ? `<strong>Early (3 to 4\u00BD yr):</strong> ${esc(f.early)}${f.later ? '<br><br><strong>Later (4 to 5\u00BD yr):</strong> ' + esc(f.later) : ''}` : '';
    const noLmaTag = !hasItems ? '<span class="no-lma-tag">No LMA items</span>' : '';
    out += `<div class="foundation-row${!hasItems ? ' uncovered' : ''}">`;
    out += `<div class="foundation-label"><div class="foundation-name">${esc(f.label)}${noLmaTag}${tipText ? '<div class="foundation-tip">' + tipText + '</div>' : ''}</div><div class="foundation-sub" style="color:${strand.color}">${esc(f.sub)}</div></div>`;
    out += cellHTML(i3);
    out += cellHTML(i4);
    out += `</div>`;
  });
  out += `</div>`;
});

document.getElementById('app').innerHTML = out;
</script>
</body>
</html>
